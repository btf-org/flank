# Flank

Flank is a utility to make your scripts more powerful. 

## ⚡️ Quickstart ⚡️

The first step is to **run a script on your computer** through Flank.

<details>
  <summary>Python</summary>

---

#### 1a. Install Flank (Mac)
```bash
brew tap btf-org/flank && brew install btf-org/flank/flank && brew services start flank
```

#### 1b. Install Flank (Linux)
```bash
wget https://github.com/btf-org/flank/releases/download/v0.1.65/flank_0.1.65_amd64.deb && sudo FLANK_USER=$(whoami) apt install ./flank_0.1.65_amd64.deb
```

#### 2. Add your script to Flank

(Swap out `myscript.py` for whatever your script name is)

```
iflank add myscript.py
```

#### 3. Finish configuration

Follow the link outputted by `iflank add` (it'll be something like http://localhost:8083/myscript.py).

#### 4. Run it!

Once you've run a script through Flank, check out some of the possible next steps below.

---

</details>

<details>
  
  <summary>R</summary>

---

#### 1a. Install Flank (Mac)
```bash
brew tap btf-org/flank && brew install btf-org/flank/flank && brew services start flank
```

#### 1b. Install Flank (Linux)

```bash
wget https://github.com/btf-org/flank/releases/download/v0.1.65/flank_0.1.65_amd64.deb && sudo FLANK_USER=$(whoami) apt install ./flank_0.1.65_amd64.deb
```

#### 2. Add your script to Flank

(Swap out `myscript.R` for whatever your script name is)

```
iflank add myscript.R
```

#### 3. Finish configuration

Follow the link outputted by `iflank add` (it'll be something like http://localhost:8083/myscript.R).

#### 4. Run it!

Once you've run a script through Flank, check out some of the possible next steps below.

---

</details>

<details>
  
  <summary>Other Languages</summary>

---

#### 1a. Install Flank (Mac)
```bash
brew tap btf-org/flank && brew install btf-org/flank/flank && brew services start flank
```

#### 1b. Install Flank (Linux)

```bash
wget https://github.com/btf-org/flank/releases/download/v0.1.65/flank_0.1.65_amd64.deb && sudo FLANK_USER=$(whoami) apt install ./flank_0.1.65_amd64.deb
```

#### 2. Add your script to Flank

(Swap out `myscript.js` for whatever your script name is)

```
iflank add myscript.js
```

#### 3. Finish configuration

Follow the link outputted by `iflank add` (it'll be something like http://localhost:8083/myscript.js).

#### 4. Run it!

Once you've run a script through Flank, check out some of the possible next steps below.

---

</details>

## Next Steps

Here are some possible next steps:

- Use your phone to run a script away from your desk [[Guide](/docs/not_written_yet.md)]
- Schedule a script to run later (and view the logs afterwards) [[Guide](/docs/not_written_yet.md)]
- Customize the input fields to your script [[Guide](/docs/not_written_yet.md)]

## Run your script from the browser

Flank is a wrapper around the CLI and then a website on top of that wrapper.

When you add your script to Flank, Flank wraps your script with another script. Using the "wrapper script" as a template, Flank generates a website for running your script. And when you run it, the output appears in the browser.

#### Example: Python script that outputs HTML
```python
import pandas as pd
import argparse

# Set up argument parser
parser = argparse.ArgumentParser(description='Filter data by city')
parser.add_argument('--city', default='New York', help='City to filter by')
args = parser.parse_args()

df = pd.DataFrame({
    'Name': ['Alice', 'Bob', 'Charlie', 'Diana'],
    'Age': [25, 30, 35, 28],
    'City': ['New York', 'London', 'New York', 'Paris']
})

filtered_df = df[df['City'] == args.city]
filtered_df.to_html('output.html', index=False)
print(f"Generated table for {args.city}: {len(filtered_df)} rows")
```

#### Example: The "wrapper script" generated by Flank

```bash
cd /Users/anguspmitchell/Workspace/data-proc/city-filter.py
. ./venv/bin/activate
python city-filter.py --city ${city}
```

#### Example: Template page generated from "runner script"

<img/>

#### Example: Flank forwards `stdout` from your CLI to the browser

<img/>

## Script-Driven Development

In the output of your script, you can include HTML tables, data graphics, and links to run other scripts (every script in Flank has a unique URL)

With nothing more than a script, you can build...

- Dashboards
- Reports
- Internal tools
- CRUD apps

For example, the previous script could return an HTML table...

```python
# beginning of the script is the same...

filtered_df.to_html('output.html', index=False)
```

And then in Flank you see an HTML table...

<img/>

You could even edit the "wrapper script" so that it runs every 3 seconds, making this a constantly-updating dashboard...

<gif>
  
## The Anti-Pitch

Flank is an "80/20" tool, so it's a bad fit for many situations.

### User actions can't be modeled as input → output

Flank works like the CLI. You punch in some input and you get back some output. This works for some problems. It's a bad fit for other problems, such as...

- ❌ Chatbots
- ❌ Map applications
- ❌ Rich text editing
- ❌ Live, multi-user apps
- ❌ Dashboards with distinct, side-by-side components

### Your UI is highly styled or very interactive

The Flank UI is defined by the outputs of scripts. Scripts are not the best place to write heaps of CSS and JS. Some examples:

- ❌ Lots of color-coding
- ❌ Lots of popups
- ❌ CSS needs to be consistent with some other project
- ❌ Displaying lots of photos or videos
- ❌ Rich editing of text or any other media

### Your users are all technical enough to use the CLI

- ❌ Scripts for other devs to run

For more specific musings on alternative tools, see thoughts on [Reporting / Dashboards](), [Internal Tools](), [Scheduling / Pipelines](), [Deploying Scripts to the Cloud](), [Chat-Based Interfaces](), and [Developer Tools]().

## Full Docs

- [Troubleshooting](/docs/not_written_yet.md)
- [Upgrading](/docs/not_written_yet.md)
- [More](/docs/not_written_yet.md)

## About the project

I'm a data engineering consultant. I like Unix. I don't like Azure. I've tried to add as little as possible to Flank, but whenever I'm sufficiently annoyed with doing some task, I've tried to figure out some way to expose it through Flank. 

If you have any questions, feel free to shoot me an email at anguspmitchell@gmail.com
